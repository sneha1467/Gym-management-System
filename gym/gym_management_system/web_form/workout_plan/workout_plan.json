{
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 0,
 "anonymous": 0,
 "apply_document_permissions": 0,
 "button_label": "Save",
 "client_script": "\r\nfrappe.web_form.on('level', (field, value) => {\r\n    console.log(\"[DEBUG] Selected level:\", value);\r\n\r\n    if (!value) {\r\n        frappe.web_form.set_value('workout_plan', '');\r\n        return;\r\n    }\r\n\r\n    frappe.call({\r\n        method: 'frappe.client.get_list',\r\n        args: {\r\n            doctype: 'Workout Plan',\r\n            filters: { level: value },\r\n            fields: ['workout_plan'],\r\n            limit: 1\r\n        },\r\n        callback: function (res) {\r\n            if (res.message && res.message.length > 0) {\r\n                let plan = res.message[0].workout_plan;\r\n                frappe.web_form.set_value('workout_plan', plan);\r\n            } else {\r\n                frappe.web_form.set_value('workout_plan', 'No plan found for this level.');\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n\r\nfrappe.ready(() => {\r\n    const interval = setInterval(() => {\r\n        const workoutField = frappe.web_form.get_field('workout_plan');\r\n        if (workoutField && workoutField.$wrapper) {\r\n            workoutField.$wrapper.find('textarea, [contenteditable=\"true\"]').attr('readonly', true).css({\r\n                'background-color': '#f5f5f5',\r\n                'pointer-events': 'none'\r\n            });\r\n            clearInterval(interval);\r\n            console.log(\"[DEBUG] workout_plan field made read-only.\");\r\n        }\r\n    }, 300);\r\n});\r\n",
 "condition_json": "[]",
 "creation": "2025-07-09 17:53:18.571346",
 "doc_type": "Workout Plan",
 "docstatus": 0,
 "doctype": "Web Form",
 "idx": 0,
 "is_standard": 1,
 "list_columns": [],
 "login_required": 0,
 "max_attachment_size": 0,
 "modified": "2025-07-11 14:09:32.997257",
 "modified_by": "Administrator",
 "module": "Gym Management System",
 "name": "workout-plan",
 "owner": "Administrator",
 "published": 1,
 "route": "workout-plan",
 "show_attachments": 0,
 "show_list": 0,
 "show_sidebar": 0,
 "title": "Workout Plan",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "level",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Level ",
   "max_length": 0,
   "max_value": 0,
   "options": "Begineer\nIntermediate\nAdvanced",
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "workout_plan",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": "Workout Plan ",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 1,
   "reqd": 0,
   "show_in_filter": 0
  }
 ]
}